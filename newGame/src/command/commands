
local HealCommand = {}
HealCommand.__index = HealCommand

function HealCommand:new(receiver, amount)
    local cmd = setmetatable({}, HealCommand)
    cmd.receiver = receiver  -- This will be the player object
    cmd.amount = amount or 1 -- Amount to heal (default is 1)
    return cmd
end

function HealCommand:execute()
    -- Check if the receiver (player) has the required heal
    if self.receiver and self.receiver.heal then
       -- print(string.format("Executing HealCommand: Healing %s by %d", tostring(self.receiver), self.amount))
        self.receiver:heal(self.amount) -- Call the player's heal method
    else
         print("ERROR: HealCommand receiver missing or has no heal method!")
    end
end

-- Add HealCommand to the table returned by the module
return {
  -- sends the HealCommand to the command queue
    HealCommand = HealCommand 
    
}